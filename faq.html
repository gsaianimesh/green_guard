<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>FAQ - GreenGuard | Frequently Asked Questions</title>
    <link href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eüå±%3C/text%3E%3C/svg%3E" rel="icon" type="image/svg+xml" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=Poppins:wght@700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#06f967",
                        "gg-green-bright": "#4CAF50",
                        "gg-green-dark": "#0B1C11",
                        "gg-green-mid": "#102918",
                        "gg-green-light": "#133A21",
                        "gg-green-cta": "#1A4B2B",
                        "gg-dark-neutral": "#0E1F14",
                        "background-dark": "#0B0E0C",
                    },
                    fontFamily: {
                        display: ["Inter", "sans-serif"],
                        heading: ["Poppins", "sans-serif"],
                    },
                    borderRadius: { DEFAULT: "0.5rem", lg: "1rem", xl: "1.5rem", full: "9999px" },
                    boxShadow: { 'glow-primary': '0 0 15px 5px rgba(6, 249, 103, 0.4), 0 0 5px 2px rgba(6, 249, 103, 0.6)', 'glow-green': '0 0 15px 5px rgba(76, 175, 80, 0.4), 0 0 5px 2px rgba(76, 175, 80, 0.6)', }
                },
            },
        };
    </script>
    <style type="text/tailwindcss">
        @layer components {
            .glassmorphic { @apply bg-white/5 border border-white/10 shadow-lg rounded-xl; -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px); }
        }
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .faq-item {
            transition: all 0.3s ease;
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .faq-item.active .faq-answer {
            max-height: 1000px;
        }
        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }
    </style>
</head>

<body class="bg-background-dark text-white font-display antialiased">
    <div class="relative min-h-screen w-full flex flex-col overflow-x-hidden">
        
        <div class="absolute inset-0 z-0">
            <img alt="Lush forest background" class="object-cover w-full h-full opacity-30" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBYSTih5Kfltb8DoSzjqRVXy3xwkyn6sDpIQZqTCWpuntjDlq_Cq_13KnLkDKm_tdYXGm2R_JNPMbnvI1k3dA4xsoFik4Dz6apadnq790M9UdGO-6nLKtgJjVYRn_24FGVQ3-AvOhG3QCXTYKti0VV_ewEyjIvz5xgq8_ilm4D8J8E28sEE1NF4WweW_ejQjOeKve5wuJPxBe_4ewplD8CcwGtZ0bxCjYmQwvoGhUKhWOgRu0JnWd_my_AokNOYiWa4BmsPDpdU6_M" />
            <div class="absolute inset-0 bg-gradient-to-t from-background-dark via-background-dark/80 to-transparent"></div>
        </div>
        
        <div class="relative z-10 flex flex-col h-full grow">
            <header class="fixed top-0 left-0 right-0 z-50 glassmorphic rounded-b-xl">
                 <nav class="container mx-auto px-6 py-4 flex items-center justify-between">
                     <a href="index.html" class="flex items-center gap-2"> 
                         <span class="text-2xl text-primary drop-shadow-glow-primary">üå±</span> 
                         <h2 class="text-xl font-bold tracking-tight text-white font-heading">GreenGuard</h2> 
                     </a>
                     <div class="hidden md:flex items-center gap-6"> 
                         <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="about.html">About</a> 
                         <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="view-tree.html">Explore Map</a> 
                         <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="partners.html">Partners</a> 
                         <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="faq.html">FAQ</a> 
                         <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="index.html">Home</a> 
                     </div>
                     <div class="flex items-center gap-3"> 
                         <a id="loginBtn" href="auth.html" class="bg-white/10 hover:bg-white/20 text-white text-sm font-bold uppercase py-2 px-5 rounded-full transition-all duration-300">Login</a> 
                         <a id="dashboardBtn" href="dashboard.html" class="text-primary hover:text-white text-sm font-medium hidden" title="My Dashboard"> <span class="material-symbols-outlined">dashboard</span> </a> 
                         <a id="adminBtn" href="admin.html" class="bg-red-600 hover:bg-red-500 text-white text-sm font-bold uppercase py-2 px-4 rounded-full transition-all duration-300 hidden" title="Admin Panel"> <span class="material-symbols-outlined text-base leading-none">admin_panel_settings</span> </a> 
                         <a id="waterTreeBtn" href="water-tree.html" class="bg-blue-600 hover:bg-blue-500 text-white text-sm font-bold uppercase py-2 px-4 rounded-full transition-all duration-300 hidden" title="Water Trees"> <span class="material-symbols-outlined text-base leading-none">water_drop</span> </a> 
                         <a id="registerTreeBtn" href="register-tree.html" class="bg-primary hover:shadow-glow-primary text-background-dark text-sm font-bold uppercase py-2 px-4 rounded-full transition-all duration-300 hidden" title="Register New Tree"> <span class="material-symbols-outlined text-base leading-none">add_circle</span> </a> 
                         <button id="signOutBtn" class="text-white/60 hover:text-white text-sm font-medium hidden" title="Sign Out"> <span class="material-symbols-outlined">logout</span> </button> 
                     </div>
                 </nav>
            </header>

            <main class="container mx-auto px-6 mt-24">
                
                <section class="text-center pt-20 pb-16 animate-on-scroll">
                    <div class="inline-block mb-6">
                        <span class="text-6xl">‚ùì</span>
                    </div>
                    <h1 class="text-5xl md:text-7xl font-black tracking-tighter text-white leading-tight mb-6 font-heading">
                        Frequently Asked <span class="text-primary">Questions</span>
                    </h1>
                    <p class="text-xl md:text-2xl font-medium text-white/70 max-w-3xl mx-auto leading-relaxed">
                        Find answers to common questions about GreenGuard, tree care, rewards, and how our platform works.
                    </p>
                </section>

                <section class="py-16 animate-on-scroll">
                    <div class="max-w-4xl mx-auto space-y-4">
                        
                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">How do I register a tree?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">To register a tree, you need to:</p>
                                    <ol class="list-decimal list-inside space-y-2 ml-4">
                                        <li>Sign in to your GreenGuard account</li>
                                        <li>Click on "Register a Tree" in the navigation</li>
                                        <li>Fill in the tree details (species, age, planting date, location)</li>
                                        <li>Use the "Get Location" button to capture GPS coordinates</li>
                                        <li>Upload a photo of the tree</li>
                                        <li>Review and submit for admin approval</li>
                                    </ol>
                                    <p class="mt-4">Once approved, your tree will appear on the map and be available for community care.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">How do I earn Green Coins?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">You can earn Green Coins by:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4">
                                        <li><strong class="text-primary">Watering trees:</strong> Log verified care activities for nearby trees (+5 points per approved log)</li>
                                        <li><strong class="text-primary">Registering trees:</strong> Add new trees to the platform (points vary)</li>
                                        <li><strong class="text-primary">Endorsing trees:</strong> Verify pending tree registrations near you</li>
                                        <li><strong class="text-primary">Adopting trees:</strong> Take long-term responsibility for specific trees</li>
                                    </ul>
                                    <p class="mt-4">All actions are verified using GPS, timestamps, and photo validation to ensure authenticity.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">Why do I need to take a photo when watering a tree?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">Photo verification ensures:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4">
                                        <li><strong class="text-primary">Authenticity:</strong> Confirms you're actually at the tree location</li>
                                        <li><strong class="text-primary">GPS Validation:</strong> Your photo's location data must match the tree's location (within 50 meters)</li>
                                        <li><strong class="text-primary">Timestamp Verification:</strong> Photo must be taken within 15 minutes of logging</li>
                                        <li><strong class="text-primary">Accountability:</strong> Creates a transparent record of care activities</li>
                                    </ul>
                                    <p class="mt-4">This rule-based system prevents misuse and ensures fair distribution of rewards.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">Can I water the same tree multiple times in a day?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p>No, you can only log care for the same tree <strong class="text-primary">once every 24 hours</strong>. This rule ensures:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4 mt-3">
                                        <li>Fair distribution of care opportunities</li>
                                        <li>Prevention of duplicate entries</li>
                                        <li>Encouragement of community participation</li>
                                        <li>Accurate tracking of tree care frequency</li>
                                    </ul>
                                    <p class="mt-4">If you try to log care for the same tree within 24 hours, you'll receive a notification explaining the limit.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">How does the platform verify my location?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">Location verification uses <strong class="text-primary">rule-based logic</strong> (no AI):</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4">
                                        <li>Your photo's EXIF data contains GPS coordinates</li>
                                        <li>The system calculates the distance between your photo location and the tree's registered location</li>
                                        <li>You must be within <strong class="text-primary">50 meters</strong> of the tree</li>
                                        <li>The photo timestamp must be within 15 minutes of when you clicked "Water Me!"</li>
                                    </ul>
                                    <p class="mt-4">If verification fails, you'll receive a clear error message explaining why.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">What happens if my watering log is flagged?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">The system automatically flags logs that show unusual patterns such as:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4">
                                        <li>Multiple rapid logs (3+ in one hour)</li>
                                        <li>GPS location mismatches</li>
                                        <li>Multiple different trees logged in a very short time</li>
                                    </ul>
                                    <p class="mt-4">Flagged logs are reviewed by our admin team. If your log is legitimate, it will be approved and you'll receive your points. If there's an issue, you'll be notified.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">How do I redeem Green Coins?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">Green Coins can be redeemed for:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4">
                                        <li>Discount coupons from partner brands</li>
                                        <li>Eco-friendly products or services</li>
                                        <li>Digital vouchers</li>
                                        <li>Sustainability-focused rewards</li>
                                    </ul>
                                    <p class="mt-4">The redemption feature is currently in development. Official partners and rewards will be announced as they become available. Check the <a href="partners.html" class="text-primary hover:underline">Partners page</a> for updates.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">Does the platform use AI or machine learning?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p><strong class="text-primary">No, GreenGuard does not use AI or machine learning.</strong> All verification and decision-making is done through:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4 mt-3">
                                        <li>Rule-based logic and formulas</li>
                                        <li>GPS distance calculations</li>
                                        <li>Timestamp comparisons</li>
                                        <li>Manual health checklists</li>
                                        <li>Deterministic scoring systems</li>
                                    </ul>
                                    <p class="mt-4">This ensures complete transparency, auditability, and compliance with non-AI constraints. All calculations are based on publicly available formulas and can be verified by anyone.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">How is tree survival rate calculated?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">Survival rate is calculated using a simple rule-based formula:</p>
                                    <div class="bg-primary/10 border border-primary/30 rounded-lg p-4 my-4">
                                        <p class="text-sm font-mono text-white/90">
                                            Survival Rate = (Active Trees / Approved Trees) √ó 100
                                        </p>
                                    </div>
                                    <p class="mb-3">Where:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4">
                                        <li><strong class="text-primary">Active Trees:</strong> Approved trees that have been watered in the last 30 days</li>
                                        <li><strong class="text-primary">Approved Trees:</strong> All trees that have been verified and approved by admins</li>
                                    </ul>
                                    <p class="mt-4">This gives a clear, transparent measure of how many trees are receiving ongoing care.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">Can schools or NGOs partner with GreenGuard?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">Yes! Schools, NGOs, and institutions can partner with GreenGuard to:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4">
                                        <li>Monitor plantation drives and track tree survival</li>
                                        <li>Encourage student or volunteer participation</li>
                                        <li>Access comprehensive dashboards for progress reporting</li>
                                        <li>Demonstrate measurable environmental impact</li>
                                    </ul>
                                    <p class="mt-4">Visit our <a href="partners.html" class="text-primary hover:underline">Partners page</a> to learn more about partnership opportunities and how to get started.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">What if I can't find a tree near me?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p>If there are no trees registered near your location, you can:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4 mt-3">
                                        <li><strong class="text-primary">Register a new tree:</strong> Add trees in your area to the platform</li>
                                        <li><strong class="text-primary">Explore the map:</strong> Check the "View Nearby Trees" page to see all registered trees</li>
                                        <li><strong class="text-primary">Wait for new registrations:</strong> Trees are being added regularly by the community</li>
                                    </ul>
                                    <p class="mt-4">The platform shows trees within 5km of your location. If you're in a new area, consider registering the first tree!</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">How do I endorse a tree?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">To endorse a tree:</p>
                                    <ol class="list-decimal list-inside space-y-2 ml-4">
                                        <li>Go to the "View Nearby Trees" page</li>
                                        <li>Find a tree with "Pending" status</li>
                                        <li>You must be within <strong class="text-primary">500 meters</strong> of the tree</li>
                                        <li>Click the "Endorse This Tree" button</li>
                                        <li>Your endorsement helps verify the tree's location and authenticity</li>
                                    </ol>
                                    <p class="mt-4">Endorsements help pending trees get approved faster by showing community verification.</p>
                                </div>
                            </div>
                        </div>

                        <div class="faq-item glassmorphic rounded-xl border border-primary/20 overflow-hidden">
                            <button class="faq-question w-full p-6 text-left flex items-center justify-between hover:bg-white/5 transition-colors">
                                <h3 class="text-xl font-bold text-white">Is my data secure and private?</h3>
                                <span class="material-symbols-outlined faq-icon text-primary transition-transform">expand_more</span>
                            </button>
                            <div class="faq-answer">
                                <div class="px-6 pb-6 text-white/80 leading-relaxed">
                                    <p class="mb-3">Yes, we take data security seriously:</p>
                                    <ul class="list-disc list-inside space-y-2 ml-4">
                                        <li>All data is stored securely using Firebase (Google Cloud infrastructure)</li>
                                        <li>User authentication is handled by Firebase Auth</li>
                                        <li>Only necessary information is collected (username, email, location)</li>
                                        <li>GPS coordinates are used only for tree location verification</li>
                                        <li>Photos are stored as base64 data URLs (not uploaded to external servers)</li>
                                    </ul>
                                    <p class="mt-4">Your personal information is only visible to you and administrators. Tree locations are public to enable community care, but user-specific data remains private.</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>

                <section class="py-16 animate-on-scroll">
                    <div class="glassmorphic rounded-2xl p-8 md:p-12 border border-primary/20 text-center max-w-3xl mx-auto">
                        <h2 class="text-3xl font-bold font-heading text-white mb-4">Still Have Questions?</h2>
                        <p class="text-lg text-white/80 mb-6">Can't find what you're looking for? We're here to help!</p>
                        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                            <a href="about.html" class="bg-primary hover:shadow-glow-primary text-background-dark text-lg font-bold uppercase py-3 px-6 rounded-full transition-all duration-300">
                                Learn More About Us
                            </a>
                            <a href="partners.html" class="bg-white/10 hover:bg-white/20 text-white text-lg font-bold uppercase py-3 px-6 rounded-full transition-all duration-300">
                                View Partnerships
                            </a>
                        </div>
                    </div>
                </section>

            </main>

            <footer class="bg-gradient-to-t from-[#1b1f1c] to-background-dark/0 mt-20">
                <div class="container mx-auto px-6 py-12 text-center">
                    <div class="flex items-center justify-center gap-6 mb-8"> 
                        <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="about.html">About</a> 
                        <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="auth.html">Join</a> 
                        <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="partners.html">Partners</a> 
                        <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="faq.html">FAQ</a> 
                        <a class="text-sm font-medium text-white/80 hover:text-white transition-colors" href="index.html">Home</a> 
                    </div>
                    <p class="text-sm text-white/50">¬© 2025 GreenGuard. All rights reserved.</p>
                </div>
            </footer>
        </div>
    </div>

    <script type="module" src="firebase-init.js"></script>
    <script type="module">
        import { auth } from './firebase-init.js';
        import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

        const ADMIN_UID = "PASTE_YOUR_OWN_USER_UID_HERE";

        function setupAuthListeners() {
            const loginBtn = document.getElementById('loginBtn');
            const signOutBtn = document.getElementById('signOutBtn');
            const dashboardBtn = document.getElementById('dashboardBtn');
            const adminBtn = document.getElementById('adminBtn');
            const waterTreeBtn = document.getElementById('waterTreeBtn');
            const registerTreeBtn = document.getElementById('registerTreeBtn');

            onAuthStateChanged(auth, (user) => {
                if (user) {
                    if(loginBtn) loginBtn.style.display = 'none';
                    if(signOutBtn) signOutBtn.style.display = 'block';
                    if(dashboardBtn) dashboardBtn.style.display = 'block';
                    if(waterTreeBtn) waterTreeBtn.style.display = 'block';
                    if(registerTreeBtn) registerTreeBtn.style.display = 'block';
                    if (user.uid === ADMIN_UID && adminBtn) { adminBtn.style.display = 'block'; }
                    else if (adminBtn) { adminBtn.style.display = 'none'; }
                } else {
                    if(loginBtn) loginBtn.style.display = 'block';
                    if(signOutBtn) signOutBtn.style.display = 'none';
                    if(dashboardBtn) dashboardBtn.style.display = 'none';
                    if(adminBtn) adminBtn.style.display = 'none';
                    if(waterTreeBtn) waterTreeBtn.style.display = 'none';
                    if(registerTreeBtn) registerTreeBtn.style.display = 'none';
                }
            });

            if (signOutBtn) {
                signOutBtn.addEventListener('click', () => {
                    signOut(auth).then(() => {
                        alert('You have been signed out.');
                        window.location.reload();
                    }).catch((error) => {
                        console.error('Sign out error:', error);
                        alert(`Sign out failed: ${error.message}`);
                    });
                });
            }
        }

        function setupScrollAnimations() {
            const elements = document.querySelectorAll('.animate-on-scroll');
            if (!elements.length) return;

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { 
                threshold: 0.1
            });

            elements.forEach(el => observer.observe(el));
        }

        function setupFAQ() {
            const faqItems = document.querySelectorAll('.faq-item');
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', () => {
                    const isActive = item.classList.contains('active');
                    faqItems.forEach(i => i.classList.remove('active'));
                    if (!isActive) {
                        item.classList.add('active');
                    }
                });
            });
        }

        window.addEventListener('DOMContentLoaded', () => {
            setupAuthListeners();
            setupScrollAnimations();
            setupFAQ();
        });
    </script>

</body>
</html>

